<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/springsecurity">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
</head>
<body>

    <ul>
        <!--如果未登录显示-->
        <div sec:authorize="!isAuthenticated()">
            <li><a th:href="@{/index}">首页</a></li>
            <li><a th:href="@{/toLogin}">登录</a></li>
        </div>
        <!--如果登录了显示-->
        <div sec:authorize="isAuthenticated()">
            <li><a th:href="@{/index}">首页</a></li>
            <li>
                <a th:href="@{/index}">你好
                    <span sec:authentication="name"></span>
                    (
                    <span sec:authentication="principal.authorities"></span>
                    )
                </a>
            </li>
            <li><a th:href="@{/logout}">注销</a></li>
        </div>
    </ul>

    <div sec:authorize="hasRole('vip1')">
        <ul>
            <li>level-1</li>
            <li><a th:href="@{/level1/1}">level-1-1</a></li>
            <li><a th:href="@{/level1/2}">level-1-2</a></li>
            <li><a th:href="@{/level1/3}">level-1-3</a></li>
        </ul>
    </div>
    <div sec:authorize="hasRole('vip2')">
        <ul>
            <li>level-2</li>
            <li><a th:href="@{/level2/1}">level-2-1</a></li>
            <li><a th:href="@{/level2/2}">level-2-2</a></li>
            <li><a th:href="@{/level2/3}">level-2-3</a></li>
        </ul>
    </div>
    <div sec:authorize="hasRole('vip3')">
        <ul>
            <li>level-3</li>
            <li><a th:href="@{/level3/1}">level-3-1</a></li>
            <li><a th:href="@{/level3/2}">level-3-2</a></li>
            <li><a th:href="@{/level3/3}">level-3-3</a></li>
        </ul>
    </div>
</body>
</html>
